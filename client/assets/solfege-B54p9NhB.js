import{w as te,a as s}from"./chunk-OIYGIGL5-An1P4jtE.js";import{j as t}from"./jsx-runtime-D_zvdyIk.js";const se=new Map([["I","do mi so"],["i","do me so"],["V","so ti re"],["IV","fa la do"],["iv","fa le do"],["ii","re fa la"],["ii°","re fa le"],["vi","la do mi"],["VI","le do me"],["iii","mi so ti"],["III","me so te"],["vii°","ti re fa"],["VII","te re fa"],["V7","so ti re fa"],["vii°7","ti re fa le"],["ii7","re fa la do"],["ii𝆩7","re fa le do"],["iv7","fa le do me"],["N","ra fa le"],["V/V","re fi la"],["V/IV","do mi so"],["V/ii","la di mi"],["V/vi","mi si ti"],["V/VI","me so te"],["V/iii","ti ri fi"],["V/III","te re fa"],["V/VII","fa la do"],["V7/V","re fi la do"],["V7/IV","do mi so te"],["V7/ii","la di mi so"],["V7/vi","mi si ti re"],["V7/VI","me so te ra"],["V7/iii","ti ri fi la"],["V7/III","te re fa le"],["V7/VII","fa la do me"]]),B=[...se.entries()],O=15;function le({}){return[{title:"Aural Skills Solfege"},{name:"description",content:"Solfege practice"}]}const ie=te(function(){const[b,V]=s.useState(!1),[H,P]=s.useState(!1),[l,N]=s.useState(1),[U,C]=s.useState(""),[W,_]=s.useState(-1),[w,k]=s.useState([]),[d,M]=s.useState(""),[L,R]=s.useState(""),[j,q]=s.useState([]),[z,D]=s.useState(!1),[G,J]=s.useState(null),[E,Q]=s.useState(0),a=s.useRef(null),f=s.useRef(null),h=s.useRef(null),i=s.useRef(null),m=[a,f,h,i],A=s.useRef(null),c=s.useRef(null);s.useEffect(()=>{Z()},[l]),s.useEffect(()=>{b&&!c.current?c.current=setInterval(()=>{const e=new Date-G;Q(e)}):(clearInterval(c.current),c.current=null)},[b]),s.useEffect(()=>()=>{clearInterval(c.current)},[]);const X=e=>{var n=Math.floor(e/6e4),o=Math.floor(e%6e4/1e3),r=Math.floor(e%1e3/10);return(n>0?n+":":"")+(o<10?"0":"")+o.toFixed(0)+"."+r},K=()=>{m.forEach(e=>{e&&e.current&&(e.current.value="")}),M(""),R("")},Y=()=>{for(let e=0;e<j.length;e++)if(m[e]&&m[e].current&&m[e].current.value.toLowerCase()!=j[e])return!1;return!(j.length==3&&i&&i.current&&i.current.value!="")},Z=()=>{console.log(w);const e=B.length-2*(O-1);let n=Math.floor(Math.random()*e)+2*(l-1);for(;w.includes(n);)n=Math.floor(Math.random()*e)+2*(l-1);console.log(n),_(n);const o=B[n];let r=o[0];const I=o[1].split(" ");let S=r.indexOf("/");S!=-1&&(R(r.substring(S+1,r.length)),r=r.substring(0,S));let v=["","6","64"];r[r.length-1]=="7"?(C(r.substring(0,r.length-1)),v=["7","65","43","42"]):(r=="N"&&(v=["","6"]),C(r));let T=Math.floor(Math.random()*Math.min(Math.floor(l/2),v.length));M(v[T]);const F=[];for(let y=0;y<I.length;y++)F.push(I[(T+y)%I.length]);q(F)},x=(e,n)=>{const{value:o,maxLength:r}=e.target;o.length===r&&n&&n.current&&n.current.focus()},u=(e,n)=>{const{value:o,maxLength:r}=e.target;e.key==="Backspace"&&o.length===0&&n&&n.current&&n.current.focus()},$=e=>{e.preventDefault(),Y()?(D(!1),l==O?(P(!0),V(!1)):(K(),k([...w,W]),N(l+1),a.current&&a.current.focus())):D(!0)},ee=()=>{const e=U.split(" ");return t.jsxs("div",{className:"flex justify-center font-serif",children:[t.jsx("p",{className:"text-9xl text-center",children:e[0]}),t.jsxs("p",{className:"flex flex-col ml-3 text-5xl font-semibold text-wrap w-2 h-10",children:[t.jsx("span",{children:d.length>0?d[0]:null}),t.jsx("span",{children:d.length>1?d[1]:null})]}),L!==""?t.jsxs("p",{className:"ml-6 text-9xl text-center",children:["/",L]}):null]})},g=()=>{let e="rounded-md ml-8 bg-white/5 pl-3 outline-1 -outline-offset-1 outline-gray-600 has-[input:focus-within]:outline-2 has-[input:focus-within]:-outline-offset-2 has-[input:focus-within]:outline-indigo-500";return z&&(e=e+" outline-red-500"),e},p="block text-6xl w-25 h-20 min-w-0 grow bg-gray-800 py-1.5 pr-3 pl-1 text-white placeholder:text-gray-500 focus:outline-none";return t.jsx("div",{className:"flex h-screen justify-center",children:t.jsxs("div",{className:"mt-20",children:[E?t.jsx("div",{className:"m-20 text-4xl text-white",children:X(E)}):null,b?t.jsxs("div",{children:[l,ee(),t.jsxs("form",{onSubmit:$,children:[t.jsxs("div",{className:"mt-50 flex items-center",children:[t.jsx("div",{className:g(),children:t.jsx("input",{ref:a,onChange:e=>x(e,f),onKeyDown:e=>u(e,null),autoFocus:!0,maxLength:"2",id:"solfege1",name:"solfege1",type:"text",placeholder:"",className:p})}),t.jsx("div",{className:g(),children:t.jsx("input",{ref:f,onChange:e=>x(e,h),onKeyDown:e=>u(e,a),maxLength:"2",id:"solfege2",name:"solfege2",type:"text",placeholder:"",className:p})}),t.jsx("div",{className:g(),children:t.jsx("input",{ref:h,onChange:e=>x(e,i),onKeyDown:e=>u(e,f),maxLength:"2",id:"solfege3",name:"solfege3",type:"text",placeholder:"",className:p})}),t.jsx("div",{className:g(),children:t.jsx("input",{ref:i,onChange:e=>x(e,A),onKeyDown:e=>u(e,h),maxLength:"2",id:"solfege4",name:"solfege4",type:"text",placeholder:"",className:p})})]}),t.jsx("div",{className:"mt-15 flex justify-center",children:t.jsxs("button",{type:"submit",ref:A,onKeyDown:e=>u(e,i),className:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm p-2.5 text-center inline-flex items-center me-2 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",children:[t.jsx("svg",{className:"w-10 h-10","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 10",children:t.jsx("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M1 5h12m0 0L9 1m4 4L9 9"})}),t.jsx("span",{className:"sr-only",children:"Submit"})]})})]})]}):t.jsxs("div",{children:[H?t.jsx("div",{children:"Leaderboard"}):null,t.jsxs("button",{onClick:()=>{K(),k([]),N(1),V(!0),J(new Date)},type:"button",style:{cursor:"pointer"},autoFocus:!0,className:"mt-20 text-white p-6 bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-4xl p-2.5 text-center inline-flex items-center me-2 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",children:["START",t.jsx("span",{className:"sr-only",children:"Submit"})]})]})]})})});export{ie as default,le as meta};
